{"ast":null,"code":"var _jsxFileName = \"D:\\\\Source\\\\ReactJs\\\\react-app\\\\src\\\\components\\\\SearchBar\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport InputBase from \"@material-ui/core/InputBase\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport { SearchRounded } from \"@material-ui/icons\";\nimport queryString from \"query-string\";\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport ListHistorySearch from \"./ListHistorySearch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\"\n    }\n  },\n  search: {\n    width: \"100%\",\n    display: \"flex\",\n    flexFlow: \"flex nowrap\",\n    flex: 1,\n    position: \"relative\",\n    zIndex: 999\n  },\n  searchIcon: {\n    borderTopRightRadius: theme.shape.borderRadius,\n    borderBottomRightRadius: theme.shape.borderRadius,\n    width: 80,\n    padding: theme.spacing(1),\n    height: \"100%\",\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: fade(theme.palette.common.black, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.black, 0.25)\n    }\n  },\n  inputRoot: {\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderBottomLeftRadius: theme.shape.borderRadius,\n    flex: 1,\n    color: \"inherit\",\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    }\n  },\n  inputInput: {\n    flex: 1,\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: theme.spacing(2),\n    transition: theme.transitions.create(\"width\"),\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\"\n    }\n  }\n}));\n\nfunction SearchBar({\n  onShowOverlay\n}) {\n  _s();\n\n  const [listHistory, setListHistory] = useState(JSON.parse(localStorage.getItem(\"history_search\")) || []);\n  const [value, setValue] = useState(null);\n  const [showHistory, setShowHistory] = useState(false);\n  const history = useHistory();\n\n  const handleDeleteSearch = item => {\n    setShowHistory(true);\n    let newListHistory = [...listHistory];\n    newListHistory = newListHistory.filter(x => x !== item);\n    setListHistory(newListHistory);\n    localStorage.setItem(\"history_search\", JSON.stringify(newListHistory));\n  };\n\n  const handleFocusSearch = () => {\n    setShowHistory(true);\n    onShowOverlay(x => !x);\n    setListHistory(JSON.parse(localStorage.getItem(\"history_search\")) || []);\n  };\n\n  const handleSearch = e => {\n    setShowHistory(false);\n    onShowOverlay(false);\n    e.preventDefault();\n    history.push({\n      pathname: \"/products\",\n      search: queryString.stringify(value === null || value === \"\" ? {} : {\n        name_contains: value\n      })\n    });\n    if (value === null || value === \"\") return;\n    const listHistorySearch = JSON.parse(localStorage.getItem(\"history_search\")) || [];\n    const newList = [...listHistorySearch];\n    if (listHistorySearch.includes(value)) newList.splice(newList.indexOf(value), 1);\n    newList.push(value);\n    localStorage.setItem(\"history_search\", JSON.stringify(newList));\n  };\n\n  const handleBlurSearch = () => {\n    setShowHistory(false);\n    onShowOverlay(false);\n  };\n\n  const handleReSearch = newValue => {\n    const newList = [...listHistory];\n    newList.splice(newList.indexOf(newValue), 1);\n    newList.push(newValue);\n    localStorage.setItem(\"history_search\", JSON.stringify(newList));\n    history.push({\n      pathname: \"/products\",\n      search: queryString.stringify({\n        name_contains: newValue\n      })\n    });\n    setValue(newValue);\n    setShowHistory(false);\n  };\n\n  const handleChangeValue = newValue => {\n    onShowOverlay(true);\n    setValue(newValue);\n    const localStoredHistory = JSON.parse(localStorage.getItem(\"history_search\")) || [];\n    setListHistory(localStoredHistory.filter(x => x.toLowerCase().indexOf(newValue) !== -1));\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: e => handleSearch(e),\n    className: classes.search,\n    children: [/*#__PURE__*/_jsxDEV(InputBase, {\n      value: value,\n      autoComplete: \"off\",\n      onFocus: handleFocusSearch,\n      onBlur: handleBlurSearch,\n      onChange: e => handleChangeValue(e.target.value),\n      name: \"name_contains\",\n      placeholder: \"T\\xECm ki\\u1EBFm s\\u1EA3n ph\\u1EA9m\",\n      classes: {\n        root: classes.inputRoot,\n        input: classes.inputInput\n      },\n      inputProps: {\n        \"aria-label\": \"search\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), !!showHistory && (listHistory === null || listHistory === void 0 ? void 0 : listHistory.length) > 0 && /*#__PURE__*/_jsxDEV(ListHistorySearch, {\n      handleReSearch: handleReSearch,\n      listHistory: listHistory,\n      handleDeleteSearch: handleDeleteSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.searchIcon,\n      onClick: e => handleSearch(e),\n      children: /*#__PURE__*/_jsxDEV(SearchRounded, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchBar, \"pI747bJ4HH4j9izOO2LrbfwOeyk=\", false, function () {\n  return [useHistory, useStyles];\n});\n\n_c = SearchBar;\nexport default SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"sources":["D:/Source/ReactJs/react-app/src/components/SearchBar/index.js"],"names":["InputBase","fade","makeStyles","SearchRounded","queryString","React","useState","useHistory","ListHistorySearch","useStyles","theme","menuButton","marginRight","spacing","title","display","breakpoints","up","search","width","flexFlow","flex","position","zIndex","searchIcon","borderTopRightRadius","shape","borderRadius","borderBottomRightRadius","padding","height","cursor","alignItems","justifyContent","backgroundColor","palette","common","black","inputRoot","borderTopLeftRadius","borderBottomLeftRadius","color","white","inputInput","paddingLeft","transition","transitions","create","SearchBar","onShowOverlay","listHistory","setListHistory","JSON","parse","localStorage","getItem","value","setValue","showHistory","setShowHistory","history","handleDeleteSearch","item","newListHistory","filter","x","setItem","stringify","handleFocusSearch","handleSearch","e","preventDefault","push","pathname","name_contains","listHistorySearch","newList","includes","splice","indexOf","handleBlurSearch","handleReSearch","newValue","handleChangeValue","localStoredHistory","toLowerCase","classes","target","root","input","length"],"mappings":"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","sourcesContent":["import InputBase from \"@material-ui/core/InputBase\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport { SearchRounded } from \"@material-ui/icons\";\r\nimport queryString from \"query-string\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport ListHistorySearch from \"./ListHistorySearch\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    flexFlow: \"flex nowrap\",\r\n    flex: 1,\r\n    position: \"relative\",\r\n    zIndex: 999,\r\n  },\r\n  searchIcon: {\r\n    borderTopRightRadius: theme.shape.borderRadius,\r\n    borderBottomRightRadius: theme.shape.borderRadius,\r\n    width: 80,\r\n    padding: theme.spacing(1),\r\n    height: \"100%\",\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: fade(theme.palette.common.black, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.black, 0.25),\r\n    },\r\n  },\r\n  inputRoot: {\r\n    borderTopLeftRadius: theme.shape.borderRadius,\r\n    borderBottomLeftRadius: theme.shape.borderRadius,\r\n    flex: 1,\r\n    color: \"inherit\",\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n  },\r\n  inputInput: {\r\n    flex: 1,\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n\r\n    paddingLeft: theme.spacing(2),\r\n    transition: theme.transitions.create(\"width\"),\r\n\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n}));\r\n\r\nfunction SearchBar({ onShowOverlay }) {\r\n  const [listHistory, setListHistory] = useState(\r\n    JSON.parse(localStorage.getItem(\"history_search\")) || []\r\n  );\r\n\r\n  const [value, setValue] = useState(null);\r\n  const [showHistory, setShowHistory] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleDeleteSearch = (item) => {\r\n    setShowHistory(true);\r\n    let newListHistory = [...listHistory];\r\n    newListHistory = newListHistory.filter((x) => x !== item);\r\n    setListHistory(newListHistory);\r\n    localStorage.setItem(\"history_search\", JSON.stringify(newListHistory));\r\n  };\r\n\r\n  const handleFocusSearch = () => {\r\n    setShowHistory(true);\r\n    onShowOverlay((x) => !x);\r\n    setListHistory(JSON.parse(localStorage.getItem(\"history_search\")) ||[]);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setShowHistory(false);\r\n    onShowOverlay(false);\r\n    e.preventDefault();\r\n\r\n    history.push({\r\n      pathname: \"/products\",\r\n      search: queryString.stringify(\r\n        value === null || value === \"\" ? {} : { name_contains: value }\r\n      ),\r\n    });\r\n\r\n    if (value === null || value === \"\") return;\r\n\r\n    const listHistorySearch =\r\n      JSON.parse(localStorage.getItem(\"history_search\")) || [];\r\n    const newList = [...listHistorySearch];\r\n    if (listHistorySearch.includes(value))\r\n      newList.splice(newList.indexOf(value), 1);\r\n    newList.push(value);\r\n    localStorage.setItem(\"history_search\", JSON.stringify(newList));\r\n  };\r\n\r\n  const handleBlurSearch = () => {\r\n    setShowHistory(false);\r\n    onShowOverlay(false);\r\n  };\r\n\r\n  const handleReSearch = (newValue) => {\r\n    const newList = [...listHistory];\r\n    newList.splice(newList.indexOf(newValue), 1);\r\n    newList.push(newValue);\r\n    localStorage.setItem(\"history_search\", JSON.stringify(newList));\r\n    history.push({\r\n      pathname: \"/products\",\r\n      search: queryString.stringify({ name_contains: newValue }),\r\n    });\r\n    setValue(newValue);\r\n    setShowHistory(false);\r\n  };\r\n\r\n  const handleChangeValue = (newValue) => {\r\n    onShowOverlay(true);\r\n    setValue(newValue);\r\n    const localStoredHistory =\r\n      JSON.parse(localStorage.getItem(\"history_search\")) || [];\r\n    setListHistory(\r\n      localStoredHistory.filter((x) => x.toLowerCase().indexOf(newValue) !== -1)\r\n    );\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <form onSubmit={(e) => handleSearch(e)} className={classes.search}>\r\n      <InputBase\r\n        value={value}\r\n        autoComplete=\"off\"\r\n        onFocus={handleFocusSearch}\r\n        onBlur={handleBlurSearch}\r\n        onChange={(e) => handleChangeValue(e.target.value)}\r\n        name=\"name_contains\"\r\n        placeholder=\"Tìm kiếm sản phẩm\"\r\n        classes={{\r\n          root: classes.inputRoot,\r\n          input: classes.inputInput,\r\n        }}\r\n        inputProps={{ \"aria-label\": \"search\" }}\r\n      />\r\n      {!!showHistory && listHistory?.length > 0 && (\r\n        <ListHistorySearch\r\n          handleReSearch={handleReSearch}\r\n          listHistory={listHistory}\r\n          handleDeleteSearch={handleDeleteSearch}\r\n        />\r\n      )}\r\n      <div className={classes.searchIcon} onClick={(e) => handleSearch(e)}>\r\n        <SearchRounded />\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n"]},"metadata":{},"sourceType":"module"}