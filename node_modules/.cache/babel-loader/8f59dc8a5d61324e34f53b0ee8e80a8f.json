{"ast":null,"code":"import axios from 'axios';\nconst axiosClient = axios.create({\n  baseURL: 'https://api.ezfrontend.com/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\naxiosClient.interceptors.request.use(function (config) {\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n}); // Add a response interceptor\n\naxiosClient.interceptors.response.use(function (response) {\n  // Any status code that lie within the range of 2xx cause this function to trigger\n  // Do something with response data\n  return response.data;\n}, function (error) {\n  // Any status codes that falls outside the range of 2xx cause this function to trigger\n  // Do something with response error\n  const {\n    config,\n    status,\n    data\n  } = error.response;\n  const URLS = ['/auth/local/register', '/auth/local'];\n\n  if (URLS.includes(config.url) && status === 400) {\n    const errorList = data.data || [];\n    const firstError = errorList.length > 0 ? errorList[0] : {};\n    const messageList = firstError.messages || [];\n    const firstMessage = messageList.length > 0 ? messageList[0] : {};\n    throw new Error(firstMessage.message);\n  }\n\n  return Promise.reject(error);\n});\nexport default axiosClient;","map":{"version":3,"sources":["G:/Developer/ReactJs/abc/src/api/axiosClient.js"],"names":["axios","axiosClient","create","baseURL","headers","interceptors","request","use","config","error","Promise","reject","response","data","status","URLS","includes","url","errorList","firstError","length","messageList","messages","firstMessage","Error","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,WAAW,GAAGD,KAAK,CAACE,MAAN,CAAa;AAC/BC,EAAAA,OAAO,EAAE,6BADsB;AAE/BC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAFsB,CAAb,CAApB;AAOAH,WAAW,CAACI,YAAZ,CAAyBC,OAAzB,CAAiCC,GAAjC,CACE,UAAUC,MAAV,EAAkB;AAChB,SAAOA,MAAP;AACD,CAHH,EAIE,UAAUC,KAAV,EAAiB;AACf,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CANH,E,CASA;;AACAR,WAAW,CAACI,YAAZ,CAAyBO,QAAzB,CAAkCL,GAAlC,CACE,UAAUK,QAAV,EAAoB;AAClB;AACA;AACA,SAAOA,QAAQ,CAACC,IAAhB;AACD,CALH,EAME,UAAUJ,KAAV,EAAiB;AACf;AACA;AACA,QAAM;AAAED,IAAAA,MAAF;AAAUM,IAAAA,MAAV;AAAkBD,IAAAA;AAAlB,MAA2BJ,KAAK,CAACG,QAAvC;AACA,QAAMG,IAAI,GAAG,CAAC,sBAAD,EAAyB,aAAzB,CAAb;;AACA,MAAIA,IAAI,CAACC,QAAL,CAAcR,MAAM,CAACS,GAArB,KAA6BH,MAAM,KAAK,GAA5C,EAAiD;AAC/C,UAAMI,SAAS,GAAGL,IAAI,CAACA,IAAL,IAAa,EAA/B;AACA,UAAMM,UAAU,GAAGD,SAAS,CAACE,MAAV,GAAmB,CAAnB,GAAuBF,SAAS,CAAC,CAAD,CAAhC,GAAsC,EAAzD;AACA,UAAMG,WAAW,GAAGF,UAAU,CAACG,QAAX,IAAuB,EAA3C;AACA,UAAMC,YAAY,GAAGF,WAAW,CAACD,MAAZ,GAAqB,CAArB,GAAyBC,WAAW,CAAC,CAAD,CAApC,GAA0C,EAA/D;AACA,UAAM,IAAIG,KAAJ,CAAUD,YAAY,CAACE,OAAvB,CAAN;AACD;;AAED,SAAOf,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CApBH;AAuBA,eAAeR,WAAf","sourcesContent":["import axios from 'axios';\n\nconst axiosClient = axios.create({\n  baseURL: 'https://api.ezfrontend.com/',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\naxiosClient.interceptors.request.use(\n  function (config) {\n    return config;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor\naxiosClient.interceptors.response.use(\n  function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response.data;\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    const { config, status, data } = error.response;\n    const URLS = ['/auth/local/register', '/auth/local'];\n    if (URLS.includes(config.url) && status === 400) {\n      const errorList = data.data || [];\n      const firstError = errorList.length > 0 ? errorList[0] : {};\n      const messageList = firstError.messages || [];\n      const firstMessage = messageList.length > 0 ? messageList[0] : {};\n      throw new Error(firstMessage.message);\n    }\n\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosClient;"]},"metadata":{},"sourceType":"module"}